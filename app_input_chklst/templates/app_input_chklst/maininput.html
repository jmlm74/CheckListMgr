{# main page for materials #}
{% extends 'base.html' %}
{% load static %}
{% load dis_play %}
{% load widget_tweaks %}
{% load render_table from django_tables2 %}
{% block body_block %}
    <div class="my_body" id="main">
        {% include "partials/_modal.html" %}
        <div class="container">
            {% include 'partials/_title.html' %}
            <div class="row mt-5 mb-5">
                <div class="col-4 col-md-2 ">
                    <a href="{% url 'app_input_chklst:inp-mgrmgmt' %}">
                        <button type="button" class="btn btn-primary btn-block">
                            <i class="fas fa-3x fa-users-cog"></i><br/>
                            {% dis_play "Managers" %}
                        </button>
                    </a>
                </div>
                <div class="col-4 col-md-2 ">
                    <a href="{% url 'app_input_chklst:inp-addrmgmt' %}">
                        <button type="button" class="btn btn-primary btn-block">
                            <!-- <img src="{% static 'app_input_chklst/img/mailbox-small.png' %}"><br /> -->
                            <i class="fas fa-3x fa-mail-bulk"></i><br/>
                            {% dis_play "Addresses" %}
                        </button>
                    </a>
                </div>
                {% if user.is_superadmin %}
                    <div class="col-4 col-md-2 ">
                        <a href="{% url 'app_create_chklst:catlineMgmt' %}">
                            <button type="button" class="btn btn-primary btn-block">

                                {% dis_play "Categories" %} <br>&<br> {% dis_play "Lines" %}
                            </button>
                        </a>
                    </div>
                {% endif %}
            </div>
            <div class="row mt-3">
                <div class="col-4 col-md-2">
                    <h3>{% dis_play "Materials" %}</h3>
                </div>
                <div class="col-4 col-md-2 mb-3">
                    <button id="create-mat" class="btn btn-primary" type="button" name="button">
                        <i class="fa fa-plus mr-2"></i>{% dis_play "Create" %}
                    </button>
                </div>
            </div>
            <div class="mt-3 mb-3 ">
                <form method="get">
                    <div class="row form-row d-flex justify-content-between">
                        <span>
                            {% dis_play "Designation" %} : {% render_field myfilter.form.mat_designation|attr:"size:12" %}
                        </span>
                        <span>
                            {% dis_play "Serial/N" %} : {% render_field myfilter.form.mat_registration|attr:"size:12" %}
                        </span>
                        <span>
                            {% dis_play "Type" %} : {% render_field myfilter.form.mat_type|attr:"size:10" %}
                        </span>

                    </div>
                    <div class="row form-row d-flex justify-content-between mt-3">
                        <span>
                        {% dis_play "Model" %} : {% render_field myfilter.form.mat_model|attr:"size:10" %}
                        </span>
                        <span>
                        {% dis_play "Manager" %} : {% render_field myfilter.form.mat_manager|attr:"size:10" %}
                        </span>
                        <button type="submit" class="ml-3 btn btn-primary">Search</button>
                    </div>

                </form>

            </div>
            <div class="'row">
                <div class="align-items-top justify-content-center text-center col-12 small">
                    {% include 'partials/_errormessage.html' %}
                    {% render_table mattable %}
                    {% include 'partials/_back.html' %}
                </div>
            </div>
            <script>
                const formURLCreate = "{%  url 'app_input_chklst:inp-mgrcreate' %}"
                {#  the 0 at the end --> avoid 2 urls with and without parameters #}
                const formURLDisplay = "{%  url 'app_input_chklst:inp-matdisplay' 0 %}"
                const formURLUpdate = "{%  url 'app_input_chklst:inp-matupdate' 0 %}"
                const formURLRemove = "{%  url 'app_input_chklst:inp-matdelete' 0 %}"
                const returnURL = "{% url 'app_input_chklst:inp-main' %}"
            </script>
{% endblock body_block %}